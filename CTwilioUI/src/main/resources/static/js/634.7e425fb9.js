"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[634],{3634:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var a=o(3396),s=o(7139);const r={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},l=(0,a._)("h1",null,"Login",-1),i=(0,a._)("p",{class:"text-medium-emphasis"},"Sign In to your account",-1),u=(0,a.Uk)(" Forgot password? ");function n(e,t,o,n,d,m){const c=(0,a.up)("CIcon"),p=(0,a.up)("CInputGroupText"),h=(0,a.up)("CFormInput"),w=(0,a.up)("CInputGroup"),f=(0,a.up)("CButton"),g=(0,a.up)("CCol"),_=(0,a.up)("CRow"),C=(0,a.up)("CForm"),W=(0,a.up)("CCardBody"),k=(0,a.up)("CCard"),y=(0,a.up)("CCardGroup"),b=(0,a.up)("CContainer");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"justify-content-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{md:8},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"p-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[l,i,(0,a.Wm)(w,{class:"mb-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{icon:"cil-user"})])),_:1}),(0,a.Wm)(h,{placeholder:"Username",autocomplete:"username",id:"username",modelValue:d.username,"onUpdate:modelValue":t[0]||(t[0]=e=>d.username=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(w,{class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{icon:"cil-lock-locked"})])),_:1}),(0,a.Wm)(h,{type:"password",placeholder:"Password",autocomplete:"current-password",id:"password",modelValue:d.password,"onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{xs:2},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{color:"primary",class:"px-4",onClick:m.submitForm},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(m.submitButtonCaption),1)])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(g,{xs:5},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{color:"primary",class:"px-4",type:"button",mode:"flat",onClick:m.switchAuthMode},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(m.switchModeButtonCaption),1)])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(g,{xs:6,class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{color:"link",class:"px-0"},{default:(0,a.w5)((()=>[u])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var d={data(){return{username:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.username||this.password.length<2)return this.formIsValid=!1,void alert("Fill form");this.isLoading=!0;const e={username:this.username,password:this.password};try{if("login"===this.mode)try{await this.$store.dispatch("login",e)}catch(t){return void(this.error=t.message||"Failed to authenticate, try later.")}else try{await this.$store.dispatch("signup",e)}catch(t){return void(this.error=t.message||"Failed to authenticate, try later.")}}catch(t){this.error=t.message||"Failed to authenticate, try later."}setTimeout((()=>{if(null==localStorage.getItem("token")){alert("Failed to Login");const e="/pages/Login";this.$router.replace(e)}else{const e="/"+(this.$route.query.redirect||"dashboard");this.$router.replace(e)}}),300),this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},m=o(89);const c=(0,m.Z)(d,[["render",n]]);var p=c}}]);
//# sourceMappingURL=634.7e425fb9.js.map