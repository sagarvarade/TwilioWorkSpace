"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[634],{3634:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(3396),u=r(7139),o={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},a=(0,n._)("h1",null,"Login",-1),i=(0,n._)("p",{class:"text-medium-emphasis"},"Sign In to your account",-1),l=(0,n.Uk)(" Forgot password? ");function s(e,t,r,s,c,d){var m=(0,n.up)("CIcon"),p=(0,n.up)("CInputGroupText"),f=(0,n.up)("CFormInput"),w=(0,n.up)("CInputGroup"),h=(0,n.up)("CButton"),g=(0,n.up)("CCol"),_=(0,n.up)("CRow"),C=(0,n.up)("CForm"),k=(0,n.up)("CCardBody"),W=(0,n.up)("CCard"),b=(0,n.up)("CCardGroup"),x=(0,n.up)("CContainer");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(x,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(_,{class:"justify-content-center"},{default:(0,n.w5)((function(){return[(0,n.Wm)(g,{md:8},{default:(0,n.w5)((function(){return[(0,n.Wm)(b,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(W,{class:"p-4"},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(C,null,{default:(0,n.w5)((function(){return[a,i,(0,n.Wm)(w,{class:"mb-3"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(m,{icon:"cil-user"})]})),_:1}),(0,n.Wm)(f,{placeholder:"Username",autocomplete:"username",id:"username",modelValue:c.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e}),modelModifiers:{trim:!0}},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(w,{class:"mb-4"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(m,{icon:"cil-lock-locked"})]})),_:1}),(0,n.Wm)(f,{type:"password",placeholder:"Password",autocomplete:"current-password",id:"password",modelValue:c.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),modelModifiers:{trim:!0}},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(g,{xs:2},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{color:"primary",class:"px-4",onClick:d.submitForm},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,u.zw)(d.submitButtonCaption),1)]})),_:1},8,["onClick"])]})),_:1}),(0,n.Wm)(g,{xs:5},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{color:"primary",class:"px-4",type:"button",mode:"flat",onClick:d.switchAuthMode},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,u.zw)(d.switchModeButtonCaption),1)]})),_:1},8,["onClick"])]})),_:1}),(0,n.Wm)(g,{xs:6,class:"text-right"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{color:"link",class:"px-0"},{default:(0,n.w5)((function(){return[l]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var c=r(8534),d=(r(6133),r(4916),r(5306),{data:function(){return{username:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{submitForm:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,!(""===e.username||e.password.length<2)){t.next=5;break}return e.formIsValid=!1,alert("Fill form"),t.abrupt("return");case 5:if(e.isLoading=!0,r={username:e.username,password:e.password},t.prev=7,"login"!==e.mode){t.next=20;break}return t.prev=9,t.next=12,e.$store.dispatch("login",r);case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t["catch"](9),e.error=t.t0.message||"Failed to authenticate, try later.",t.abrupt("return");case 18:t.next=29;break;case 20:return t.prev=20,t.next=23,e.$store.dispatch("signup",r);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t["catch"](20),e.error=t.t1.message||"Failed to authenticate, try later.",t.abrupt("return");case 29:t.next=34;break;case 31:t.prev=31,t.t2=t["catch"](7),e.error=t.t2.message||"Failed to authenticate, try later.";case 34:setTimeout((function(){if(null==localStorage.getItem("token")){alert("Failed to Login");var t="/pages/Login";e.$router.replace(t)}else{var r="/"+(e.$route.query.redirect||"dashboard");e.$router.replace(r)}}),300),e.isLoading=!1;case 36:case"end":return t.stop()}}),t,null,[[7,31],[9,14],[20,25]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}}),m=r(89);const p=(0,m.Z)(d,[["render",s]]);var f=p}}]);
//# sourceMappingURL=634-legacy.3ff0c788.js.map